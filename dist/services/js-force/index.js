const a54_0x435894=a54_0xafce;(function(_0x2feea7,_0x1b4992){const _0x3d359d=a54_0xafce,_0x370f77=_0x2feea7();while(!![]){try{const _0x245b67=-parseInt(_0x3d359d(0xa6))/0x1*(-parseInt(_0x3d359d(0x9e))/0x2)+parseInt(_0x3d359d(0x9d))/0x3*(parseInt(_0x3d359d(0xb0))/0x4)+-parseInt(_0x3d359d(0xb1))/0x5*(parseInt(_0x3d359d(0x95))/0x6)+parseInt(_0x3d359d(0xab))/0x7+parseInt(_0x3d359d(0xa8))/0x8*(-parseInt(_0x3d359d(0xa9))/0x9)+parseInt(_0x3d359d(0x94))/0xa+-parseInt(_0x3d359d(0xb2))/0xb;if(_0x245b67===_0x1b4992)break;else _0x370f77['push'](_0x370f77['shift']());}catch(_0x1f2b3f){_0x370f77['push'](_0x370f77['shift']());}}}(a54_0x499e,0x88da5));const jsForce=require(a54_0x435894(0xa2)),http=require(a54_0x435894(0x8d));class JsForceHelper{constructor(_0x137233,_0x46064f){const _0x34a15b=a54_0x435894;this[_0x34a15b(0x96)]=new jsForce[(_0x34a15b(0x9f))]({'instanceUrl':_0x137233[_0x34a15b(0xa0)],'accessToken':_0x137233['accessToken']}),this[_0x34a15b(0x99)]=_0x137233[_0x34a15b(0x99)],this['clientSecret']=_0x137233[_0x34a15b(0x9b)],this[_0x34a15b(0x97)]=_0x46064f,this[_0x34a15b(0xa3)]=_0x137233;}async[a54_0x435894(0x9a)](_0x23dfbe,_0xd20bb5=![]){const _0x1723ab=a54_0x435894;try{await this[_0x1723ab(0x96)]['sobject'](_0x1723ab(0x98))['create'](_0x23dfbe);}catch(_0xcdb229){if(_0xcdb229?.['errorCode']===_0x1723ab(0xac)&&!_0xd20bb5&&this[_0x1723ab(0xa3)][_0x1723ab(0x99)]&&this['flosumAuth']['clientSecret']){this[_0x1723ab(0x97)][_0x1723ab(0x91)](_0xcdb229['errorCode']+_0x1723ab(0x8f)),this[_0x1723ab(0x96)][_0x1723ab(0xa4)]=await http['refreshToken'](this['flosumAuth']),await this['createAttachment'](_0x23dfbe,!![]);return;}throw _0xcdb229;}}async[a54_0x435894(0xad)](_0x562be0,_0x176d30=![]){const _0x49ef8e=a54_0x435894;try{await this[_0x49ef8e(0x96)]['sobject'](_0x49ef8e(0x98))['update'](_0x562be0);}catch(_0x2af529){if(_0x2af529?.[_0x49ef8e(0xa7)]===_0x49ef8e(0xac)&&!_0x176d30&&this['flosumAuth'][_0x49ef8e(0x99)]&&this['flosumAuth']['clientSecret']){this[_0x49ef8e(0x97)][_0x49ef8e(0x91)](_0x2af529[_0x49ef8e(0xa7)]+_0x49ef8e(0x8f)),this[_0x49ef8e(0x96)]['accessToken']=await http[_0x49ef8e(0x93)](this[_0x49ef8e(0xa3)]),await this['updateAttachment'](_0x562be0,!![]);return;}throw _0x2af529;}}async['updateSnapshot'](_0x234d3a,_0xb5faf9,_0x1a7afd=![]){const _0x197b2f=a54_0x435894;try{await this['jsForce']['sobject'](_0x234d3a+'Snapshot_Vlocity__c')[_0x197b2f(0xa5)](_0xb5faf9);}catch(_0x16bf8b){if(_0x16bf8b?.['errorCode']===_0x197b2f(0xac)&&!_0x1a7afd&&this['flosumAuth'][_0x197b2f(0x99)]&&this['flosumAuth'][_0x197b2f(0x9b)]){this[_0x197b2f(0x97)][_0x197b2f(0x91)](_0x16bf8b[_0x197b2f(0xa7)]+_0x197b2f(0x8f)),this[_0x197b2f(0x96)][_0x197b2f(0xa4)]=await http[_0x197b2f(0x93)](this[_0x197b2f(0xa3)]),await this[_0x197b2f(0x92)](_0x234d3a,_0xb5faf9,!![]);return;}throw _0x16bf8b;}}async['getAttachmentBodyStream'](_0x8460b1,_0x2cec60=![]){const _0x2472da=a54_0x435894;try{return await this[_0x2472da(0x96)][_0x2472da(0xb3)](_0x2472da(0x90)),this[_0x2472da(0x96)][_0x2472da(0xae)]('Attachment')['record'](_0x8460b1)[_0x2472da(0x9c)]('Body');}catch(_0x3b0bbd){if(_0x3b0bbd?.[_0x2472da(0xa7)]===_0x2472da(0xac)&&!_0x2cec60&&this[_0x2472da(0xa3)]['clientId']&&this[_0x2472da(0xa3)][_0x2472da(0x9b)])return this[_0x2472da(0x97)][_0x2472da(0x91)](_0x3b0bbd[_0x2472da(0xa7)]+_0x2472da(0x8f)),this['jsForce'][_0x2472da(0xa4)]=await http['refreshToken'](this[_0x2472da(0xa3)]),await this['getAttachmentBodyStream'](_0x8460b1,!![]);throw _0x3b0bbd;}}async[a54_0x435894(0x8e)](_0x494372,_0x5b548e,_0x2b6b13=![]){const _0x2464a2=a54_0x435894;try{await this[_0x2464a2(0x96)]['sobject'](_0x494372+_0x2464a2(0xaa))[_0x2464a2(0xa5)](_0x5b548e);}catch(_0x5a25c3){if(_0x5a25c3?.[_0x2464a2(0xa7)]===_0x2464a2(0xac)&&!_0x2b6b13&&this[_0x2464a2(0xa3)][_0x2464a2(0x99)]&&this['flosumAuth'][_0x2464a2(0x9b)]){this[_0x2464a2(0x97)][_0x2464a2(0x91)](_0x5a25c3[_0x2464a2(0xa7)]+_0x2464a2(0x8f)),this[_0x2464a2(0x96)]['accessToken']=await http['refreshToken'](this['flosumAuth']),await this['updateMetadataLog'](_0x494372,_0x5b548e,!![]);return;}throw _0x5a25c3;}}async[a54_0x435894(0xb3)](_0x45bfad,_0x210db7=![]){const _0x422cab=a54_0x435894;try{return await this[_0x422cab(0x96)]['query'](_0x45bfad);}catch(_0x3a6a07){if(_0x3a6a07?.[_0x422cab(0xa7)]==='INVALID_SESSION_ID'&&!_0x210db7&&this['flosumAuth'][_0x422cab(0x99)]&&this[_0x422cab(0xa3)][_0x422cab(0x9b)])return this[_0x422cab(0x97)]['log'](_0x3a6a07[_0x422cab(0xa7)]+_0x422cab(0x8f)),this[_0x422cab(0x96)][_0x422cab(0xa4)]=await http[_0x422cab(0x93)](this[_0x422cab(0xa3)]),await this[_0x422cab(0xb3)](_0x45bfad,!![]);throw _0x3a6a07;}}async[a54_0x435894(0xa1)](_0x38359a,_0x3768dd=![]){const _0x45b84a=a54_0x435894;try{return await this[_0x45b84a(0x96)][_0x45b84a(0xa1)](_0x38359a);}catch(_0xb1079f){if(_0xb1079f?.[_0x45b84a(0xa7)]==='INVALID_SESSION_ID'&&!_0x3768dd&&this['flosumAuth'][_0x45b84a(0x99)]&&this[_0x45b84a(0xa3)][_0x45b84a(0x9b)])return this[_0x45b84a(0x97)][_0x45b84a(0x91)](_0xb1079f['errorCode']+_0x45b84a(0x8f)),this['jsForce'][_0x45b84a(0xa4)]=await http[_0x45b84a(0x93)](this['flosumAuth']),await this[_0x45b84a(0xa1)](_0x38359a,!![]);throw _0xb1079f;}}}module[a54_0x435894(0xaf)]={'JsForceHelper':JsForceHelper};function a54_0xafce(_0x2bbd3c,_0x314793){const _0x499ec8=a54_0x499e();return a54_0xafce=function(_0xafced3,_0x1a5ae1){_0xafced3=_0xafced3-0x8d;let _0x3527db=_0x499ec8[_0xafced3];return _0x3527db;},a54_0xafce(_0x2bbd3c,_0x314793);}function a54_0x499e(){const _0x790466=['sobject','exports','508EHvvsN','60925AVpdPy','5477032KePNEk','query','../http','updateMetadataLog','\x20refresh\x20access\x20token','SELECT\x20Id\x20FROM\x20Account\x20LIMIT\x201','log','updateSnapshot','refreshToken','6853910XZSVFX','84RZorPS','jsForce','logger','Attachment','clientId','createAttachment','clientSecret','blob','2715ssgJiI','6yPpMZA','Connection','instanceUrl','queryMore','jsforce','flosumAuth','accessToken','update','150033ETxWKo','errorCode','1643176jlbWYm','27mIgzpx','Metadata_Log__c','4163719tdxinW','INVALID_SESSION_ID','updateAttachment'];a54_0x499e=function(){return _0x790466;};return a54_0x499e();}