function a53_0x245a(){const _0x31fe54=['parse','end','accessToken','getMonth','getFullYear','Exception','logs','/services/apexrest/','End\x20Update\x20Metadata\x20Log','3bkXhzv','Job_Completed__c','instanceUrl','337009fHtAjx','687255bSGDMC','post','266078NIUcbC','stringify','Partial\x20Completed','concat','../../constants','string','readLogFile','clientId','Error\x20Update\x20Attachment\x20Log\x20','toString','819eDopJW','METHOD_TYPE_GET_ATTACHMENTS','METHOD_UPDATE_LOG','clientSecret','Full\x20Process:\x0a\x0a','....','join','OAuth\x20','Status__c','18376qJaStU','idList','parseFloat','toFixed','Start\x20Next\x20Vlocity\x20Step','Start\x20Update\x20Log\x20is\x20Success\x20=\x20','Unknown\x20error:\x20','METHOD_NEXT_VLOCITY_STEP','replace','recordList','Error\x20Next\x20Vlocity\x20Step','Error\x20Get\x20Attachment\x20Body\x20','Retrieved:\x20','response','2674422LMuOoG','client_credentials','status','getMinutes','getDate','data','End\x20Call\x20Component\x20List','../storage','Error\x20Update\x20Metadata\x20Log\x20','catch','then','load','log','resolve','message','unlocked-packages','End\x20Update\x20Log\x20is\x20Success\x20=\x20','length','Error\x20Call\x20Component\x20List','2344965JwayIp','getHours','push','56904wamSWh','updateMetadataLog','Errors','error','Succeed__c','getAttachmentBodyStream','exports','Is_Error__c','js-yaml','getSeconds','updateAttachment','0$1','access_token'];a53_0x245a=function(){return _0x31fe54;};return a53_0x245a();}const a53_0x156d57=a53_0x4bee;(function(_0x3d2610,_0x59a6c1){const _0x4e4f73=a53_0x4bee,_0x203d27=_0x3d2610();while(!![]){try{const _0xf4c120=-parseInt(_0x4e4f73(0x16f))/0x1+-parseInt(_0x4e4f73(0x172))/0x2*(parseInt(_0x4e4f73(0x16c))/0x3)+-parseInt(_0x4e4f73(0x156))/0x4+parseInt(_0x4e4f73(0x170))/0x5+parseInt(_0x4e4f73(0x193))/0x6+parseInt(_0x4e4f73(0x153))/0x7+-parseInt(_0x4e4f73(0x185))/0x8*(parseInt(_0x4e4f73(0x17c))/0x9);if(_0xf4c120===_0x59a6c1)break;else _0x203d27['push'](_0x203d27['shift']());}catch(_0x8d4147){_0x203d27['push'](_0x203d27['shift']());}}}(a53_0x245a,0x36e72));const axios=require('axios'),yaml=require(a53_0x156d57(0x15e)),constants=require(a53_0x156d57(0x176)),storage=require(a53_0x156d57(0x19a)),CLIENT_CREDENTIALS_TYPE=a53_0x156d57(0x194);async function post(_0x21b8ac,_0x38e539,_0x3c556a,_0x15edf0=a53_0x156d57(0x14f),_0x44923e=![]){const _0x4c1a8f=a53_0x156d57,_0xa20f2d={'Authorization':_0x4c1a8f(0x183)+_0x21b8ac[_0x4c1a8f(0x165)],'Content-Type':'application/json'};_0x38e539=_0x38e539&&_0x38e539[_0x4c1a8f(0x151)]?_0x38e539[_0x4c1a8f(0x18d)]('__','')+'/':'';const _0x1cb696=_0x21b8ac[_0x4c1a8f(0x16e)]+_0x4c1a8f(0x16a)+_0x38e539+_0x15edf0;try{return await axios[_0x4c1a8f(0x171)](_0x1cb696,_0x3c556a,{'headers':_0xa20f2d});}catch(_0x1a5385){if(_0x1a5385?.[_0x4c1a8f(0x192)]?.[_0x4c1a8f(0x195)]===0x191&&!_0x44923e&&_0x21b8ac[_0x4c1a8f(0x179)]&&_0x21b8ac[_0x4c1a8f(0x17f)])return _0x21b8ac['accessToken']=await refreshToken(_0x21b8ac),await post(_0x21b8ac,_0x38e539,_0x3c556a,_0x15edf0,!![]);throw getErrorMessage(_0x1a5385);}}function getErrorMessage(_0x3e721c){const _0x9106b1=a53_0x156d57,_0x113b7f=_0x3e721c?.[_0x9106b1(0x192)]?.['data'];if(_0x113b7f){if(typeof _0x113b7f===_0x9106b1(0x177))return _0x113b7f;if(_0x113b7f[_0x9106b1(0x14e)])return _0x113b7f[_0x9106b1(0x14e)];}if(_0x3e721c?.[_0x9106b1(0x14e)])return _0x3e721c['message'];return _0x9106b1(0x18b)+_0x3e721c;}async function refreshToken({instanceUrl:_0x30cda5,clientId:_0x4a849d,clientSecret:_0x165e15}){const _0x10608b=a53_0x156d57,{data:_0x3b3725}=await axios['post'](_0x30cda5+'/services/oauth2/token',null,{'params':{'grant_type':CLIENT_CREDENTIALS_TYPE,'client_id':_0x4a849d,'client_secret':_0x165e15}});return _0x3b3725[_0x10608b(0x162)];}function callUpdateInfo(_0x5a8923,_0x4aa604,_0x26a6f7,_0x1f343b,_0x541b33,_0x11f51f,_0x183949,_0xf92ca0=![]){return new Promise((_0x53fdfb,_0x270dde)=>{const _0x4481b8=a53_0x4bee;try{try{const _0x19440a=yaml[_0x4481b8(0x14b)](_0x541b33);_0x19440a[_0x4481b8(0x158)]&&(_0xf92ca0=_0x19440a[_0x4481b8(0x158)][_0x4481b8(0x151)]>0x0);}catch(_0x1bd3e9){}_0x183949['log'](_0x4481b8(0x18a)+_0x11f51f);const _0x574451={'logId':_0x4aa604,'attachmentLogId':_0x1f343b,'isJobCompleted':!![],'status':'Completed','isSuccess':_0x11f51f,'isError':_0xf92ca0,'attachmentBody':_0x541b33+_0x4481b8(0x180)+_0x183949[_0x4481b8(0x169)][_0x4481b8(0x182)]('\x0a')},_0x5a38a9={'methodType':constants[_0x4481b8(0x17e)],'body':JSON['stringify'](_0x574451)};post(_0x5a8923,_0x26a6f7,_0x5a38a9)[_0x4481b8(0x14a)](_0xc06c87=>{const _0x23742f=_0x4481b8;_0x183949[_0x23742f(0x14c)](_0x23742f(0x150)+_0x11f51f),_0x53fdfb(_0xc06c87);})[_0x4481b8(0x149)](_0x58cd18=>{const _0xf1c0c1=_0x4481b8;_0x183949[_0xf1c0c1(0x14c)]('Error\x20Update\x20Log\x20is\x20Success\x20=\x20'+_0x11f51f),_0x270dde(_0x58cd18);});}catch(_0x4f49b4){_0x270dde(_0x4f49b4);}});}function callNextVlocityStep(_0x3ec4ef,_0x44b23e,_0x3ae88e,_0x539344,_0x3e5627,_0x152e26,_0x4d78cf,_0x166250){return new Promise((_0x152dcf,_0x39fac2)=>{const _0xcab176=a53_0x4bee;try{_0x166250[_0xcab176(0x14c)](_0xcab176(0x189));const _0x248f23={'pipelineId':_0x3ae88e,'pipelineNumber':_0x539344,'isPass':_0x152e26,'branchId':_0x4d78cf,'pipelineKey':_0x3e5627},_0x8a5a7c={'methodType':constants[_0xcab176(0x18c)],'body':JSON[_0xcab176(0x173)](_0x248f23)};post(_0x3ec4ef,_0x44b23e,_0x8a5a7c)[_0xcab176(0x14a)](_0x1f5403=>{const _0x1b5cca=_0xcab176;_0x166250[_0x1b5cca(0x14c)]('End\x20Next\x20Vlocity\x20Step'),_0x152dcf(_0x1f5403);})[_0xcab176(0x149)](_0x41a2ce=>{const _0xc14cd1=_0xcab176;_0x166250[_0xc14cd1(0x14c)](_0xc14cd1(0x18f)),_0x39fac2(_0x41a2ce);});}catch(_0x14a953){_0x39fac2(_0x14a953);}});}function callComponentList(_0x4d265d,_0x36a4b2,_0x52ae63,_0x24823c,_0x2a3406,_0x222316=[]){return new Promise((_0x58b5c2,_0x4b0198)=>{const _0x12a54d=a53_0x4bee;try{_0x2a3406[_0x12a54d(0x14c)]('Start\x20Call\x20Component\x20List');const _0x16362d={'methodType':constants[_0x12a54d(0x17d)],'body':JSON['stringify'](_0x36a4b2)};post(_0x4d265d,_0x52ae63,_0x16362d)[_0x12a54d(0x14a)](_0x3822f1=>{const _0x5c9ab6=_0x12a54d;let {data:_0xf73af1}=_0x3822f1;_0xf73af1=JSON[_0x5c9ab6(0x163)](_0xf73af1),_0x2a3406[_0x5c9ab6(0x14c)](_0x5c9ab6(0x191)+Number[_0x5c9ab6(0x187)](_0x222316['length']/_0x24823c*0x64)[_0x5c9ab6(0x188)](0x2)+'%'),_0x222316[_0x5c9ab6(0x155)](..._0xf73af1[_0x5c9ab6(0x18e)]),_0xf73af1[_0x5c9ab6(0x186)]&&_0xf73af1[_0x5c9ab6(0x186)][_0x5c9ab6(0x151)]?callComponentList(_0x4d265d,_0xf73af1[_0x5c9ab6(0x186)],_0x52ae63,_0x24823c,_0x2a3406,_0x222316)[_0x5c9ab6(0x14a)](_0x1a72c6=>_0x58b5c2(_0x1a72c6))[_0x5c9ab6(0x149)](_0x45ef60=>{const _0x2d3e6a=_0x5c9ab6;_0x2a3406[_0x2d3e6a(0x14c)](_0x2d3e6a(0x152)),_0x4b0198(_0x45ef60);}):(_0x2a3406['log'](_0x5c9ab6(0x199)),_0x58b5c2(_0x222316));})[_0x12a54d(0x149)](_0x28ed90=>{const _0x245f45=_0x12a54d;_0x2a3406[_0x245f45(0x14c)](_0x245f45(0x152)),_0x4b0198(_0x28ed90);});}catch(_0x598d6e){_0x2a3406[_0x12a54d(0x14c)]('Error\x20Call\x20Component\x20List'),_0x4b0198(_0x598d6e);}});}async function getBodyFromStream(_0x18dc95,_0x1bc8c6,_0x3ad723){return new Promise(_0x5156ce=>{const _0x4d6558=a53_0x4bee;try{const _0x24ac26=[];_0x18dc95['on'](_0x4d6558(0x198),(_0x1c661b,_0x7797c9)=>{const _0x5bfad2=_0x4d6558;_0x24ac26[_0x5bfad2(0x155)](_0x1c661b);}),_0x18dc95['on'](_0x4d6558(0x164),()=>{const _0x3982be=_0x4d6558;_0x1bc8c6?_0x5156ce(_0x24ac26[_0x3982be(0x182)]('')):_0x5156ce(Buffer[_0x3982be(0x175)](_0x24ac26));}),_0x18dc95['on'](_0x4d6558(0x159),_0x355e3=>{const _0x50dca0=_0x4d6558;_0x3ad723[_0x50dca0(0x14c)](_0x50dca0(0x190)+_0x355e3),_0x5156ce('');});}catch(_0xd320db){_0x3ad723[_0x4d6558(0x14c)]('Error\x20Get\x20Attachment\x20Body\x20'+_0xd320db),_0x5156ce('');}});}async function getAttachmentBody(_0x49bafc,_0x18e41e,_0x538786,_0x3712fa=!![]){const _0x3c8697=a53_0x156d57,_0x451e1e=await _0x49bafc[_0x3c8697(0x15b)](_0x18e41e);return await getBodyFromStream(_0x451e1e,_0x3712fa,_0x538786);}function getTime(){const _0x1eccd4=a53_0x156d57,_0x4f6bf8=new Date(),_0x45a978=[_0x4f6bf8[_0x1eccd4(0x197)](),_0x4f6bf8[_0x1eccd4(0x166)]()+0x1,_0x4f6bf8[_0x1eccd4(0x167)](),_0x4f6bf8[_0x1eccd4(0x154)](),_0x4f6bf8[_0x1eccd4(0x196)](),_0x4f6bf8[_0x1eccd4(0x15f)]()];return _0x45a978['forEach'](_0x3fdd1e=>_0x3fdd1e=_0x3fdd1e[_0x1eccd4(0x17b)]()['replace'](/^([0-9])$/,_0x1eccd4(0x161))),_0x45a978[0x2]+'-'+_0x45a978[0x1]+'-'+_0x45a978[0x0]+'\x20'+_0x45a978[0x3]+':'+_0x45a978[0x4]+':'+_0x45a978[0x5];}function callUpdateAttachmentLog(_0x24d6fe,_0x27daf7,_0xffce0,_0x28c9ab,_0x52f810){return new Promise(_0x256cce=>{const _0x1cbd71=a53_0x4bee;try{const _0x32e254=_0xffce0+'\x0a'+_0x28c9ab[_0x1cbd71(0x169)][_0x1cbd71(0x182)]('\x0a');_0x28c9ab[_0x1cbd71(0x169)]=[];const _0x4aebe1={'Id':_0x27daf7,'Body':Buffer['from'](_0x32e254)[_0x1cbd71(0x17b)]('base64'),'ContentType':'text/plain'};_0x24d6fe[_0x1cbd71(0x160)](_0x4aebe1)[_0x1cbd71(0x14a)](()=>{_0x256cce(_0x52f810);})[_0x1cbd71(0x149)](_0x5f0ab1=>{const _0x42d0f2=_0x1cbd71;_0x28c9ab[_0x42d0f2(0x14c)](_0x42d0f2(0x17a)+_0x5f0ab1),_0x256cce(_0x52f810);});}catch(_0x3c496f){_0x28c9ab['log'](_0x1cbd71(0x17a)+_0x3c496f),_0x256cce(_0x52f810);}});}function a53_0x4bee(_0x1a6d1f,_0xff184e){const _0x245acd=a53_0x245a();return a53_0x4bee=function(_0x4bee7c,_0x4fae92){_0x4bee7c=_0x4bee7c-0x148;let _0x2751f3=_0x245acd[_0x4bee7c];return _0x2751f3;},a53_0x4bee(_0x1a6d1f,_0xff184e);}function updateAttachmentLog(_0x3fc123,_0x3d0c9e,_0x504a1a,_0x1b06cb,_0x4a58e6,_0x4ae858=![]){return new Promise(_0x57730c=>{const _0x5efe52=a53_0x4bee;try{_0x1b06cb[_0x5efe52(0x14c)](_0x5efe52(0x181)),Promise[_0x5efe52(0x14d)]()[_0x5efe52(0x14a)](()=>getAttachmentBody(_0x3d0c9e,_0x504a1a,_0x1b06cb))[_0x5efe52(0x14a)](_0x36ba4a=>{const _0x5623ca=_0x5efe52;if(_0x4ae858)return storage[_0x5623ca(0x178)](_0x3fc123,getTime(),_0x1b06cb)[_0x5623ca(0x14a)](_0x5ac481=>{const _0x1c902a=_0x5623ca;try{const _0xf5a06e=yaml[_0x1c902a(0x14b)](_0x5ac481);_0xf5a06e[_0x1c902a(0x158)]['length']&&(_0x4a58e6=!![]);}catch(_0x215d95){_0x5ac481='',_0x4a58e6=!![];}const _0x3afd9d=_0x5ac481+'\x0a'+_0x36ba4a;return callUpdateAttachmentLog(_0x3d0c9e,_0x504a1a,_0x3afd9d,_0x1b06cb,_0x4a58e6);});return callUpdateAttachmentLog(_0x3d0c9e,_0x504a1a,_0x36ba4a,_0x1b06cb,_0x4a58e6);})['then'](()=>_0x57730c(_0x4a58e6))[_0x5efe52(0x149)](()=>_0x57730c(_0x4a58e6));}catch(_0x16198d){_0x1b06cb[_0x5efe52(0x14c)](_0x5efe52(0x17a)+_0x16198d),_0x57730c(_0x4a58e6);}});}function callUpdateLog(_0x5dbd35,_0x3ca759,_0x562dc9,_0x2a554b,_0x22aef0,_0x145b9b=![]){return new Promise((_0x5761f3,_0x39c0c4)=>{const _0xac212f=a53_0x4bee;try{_0x22aef0[_0xac212f(0x14c)]('Start\x20Update\x20Metadata\x20Log\x20isError\x20'+_0x145b9b+'\x20isSuccess\x20'+_0x2a554b);const _0x1c6391=_0x2a554b&&!_0x145b9b?'Completed':_0x2a554b&&_0x145b9b?_0xac212f(0x174):_0xac212f(0x168),_0x1b3e50={'Id':_0x3ca759,[_0x562dc9+_0xac212f(0x184)]:_0x1c6391,[_0x562dc9+_0xac212f(0x15d)]:_0x145b9b,[_0x562dc9+_0xac212f(0x15a)]:_0x2a554b,[_0x562dc9+_0xac212f(0x16d)]:!![]};_0x5dbd35[_0xac212f(0x157)](_0x562dc9,_0x1b3e50)['then'](()=>{const _0x23aaf8=_0xac212f;_0x22aef0[_0x23aaf8(0x14c)](_0x23aaf8(0x16b)),_0x5761f3(_0x1b3e50[_0x562dc9+_0x23aaf8(0x15d)]);})[_0xac212f(0x149)](_0x56ffaa=>{const _0x584fef=_0xac212f;_0x22aef0[_0x584fef(0x14c)]('Error\x20Update\x20Metadata\x20Log\x20'+_0x56ffaa),_0x39c0c4(_0x56ffaa);});}catch(_0x4ee9c8){_0x22aef0[_0xac212f(0x14c)](_0xac212f(0x148)+_0x4ee9c8),_0x39c0c4(_0x4ee9c8);}});}module[a53_0x156d57(0x15c)]={'getTime':getTime,'refreshToken':refreshToken,'post':post,'callUpdateInfo':callUpdateInfo,'callNextVlocityStep':callNextVlocityStep,'callComponentList':callComponentList,'updateAttachmentLog':updateAttachmentLog,'getAttachmentBody':getAttachmentBody,'callUpdateAttachmentLog':callUpdateAttachmentLog,'callUpdateLog':callUpdateLog};