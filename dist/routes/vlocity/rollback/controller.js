const a45_0x2661e4=a45_0x12d4;function a45_0x12d4(_0x3c8803,_0xc9343a){const _0xb19343=a45_0xb193();return a45_0x12d4=function(_0x12d4cd,_0x5565ee){_0x12d4cd=_0x12d4cd-0xc9;let _0x4371e0=_0xb19343[_0x12d4cd];return _0x4371e0;},a45_0x12d4(_0x3c8803,_0xc9343a);}(function(_0x2887e3,_0x327a1a){const _0x7a0714=a45_0x12d4,_0x1ced66=_0x2887e3();while(!![]){try{const _0x56412e=-parseInt(_0x7a0714(0xd7))/0x1*(parseInt(_0x7a0714(0xee))/0x2)+parseInt(_0x7a0714(0xd8))/0x3+-parseInt(_0x7a0714(0xe4))/0x4+-parseInt(_0x7a0714(0xdf))/0x5*(parseInt(_0x7a0714(0xef))/0x6)+parseInt(_0x7a0714(0xdc))/0x7*(-parseInt(_0x7a0714(0xe1))/0x8)+parseInt(_0x7a0714(0xca))/0x9+parseInt(_0x7a0714(0xf0))/0xa;if(_0x56412e===_0x327a1a)break;else _0x1ced66['push'](_0x1ced66['shift']());}catch(_0x29d33b){_0x1ced66['push'](_0x1ced66['shift']());}}}(a45_0xb193,0x347d0));function a45_0xb193(){const _0x4ba2b2=['nameSpacePrefix','14cQmvae','createProjectDirectory','attachmentIdList','235KgzjYZ','path','810736xveiHW','then','\x0aError\x20:\x20','603176axnRTA','Error\x20Date:\x20','length','clientSecret','log','flosumToken','clientId','getTime','./helper','vlocityUrl','21814KoJmce','35358PIhVug','5890850vhtOVZ','attachLogId','3641085tkRNel','UNZIP_CATALOG_NAME','../../../constants','callUpdateInfo','callComponentList','join','timestamp','snapshotType','resolve','logId','componentKeyList','../../../config/path','parse','39AYvlek','831492nEDdIf','flosumUrl','createJobFileDeploy'];a45_0xb193=function(){return _0x4ba2b2;};return a45_0xb193();}const path=require(a45_0x2661e4(0xe0)),helper=require(a45_0x2661e4(0xec)),storage=require('../../../services/storage'),http=require('../../../services/http'),constants=require(a45_0x2661e4(0xcc)),{pathConfig}=require(a45_0x2661e4(0xd5));function rollbackBranch(_0x273959,_0x139725){return new Promise((_0x12fe22,_0x1feca8)=>{const _0x1b12b1=a45_0x12d4;try{console[_0x1b12b1(0xe8)](_0x273959);const _0x367c49={'instanceUrl':_0x273959[_0x1b12b1(0xd9)],'accessToken':_0x273959[_0x1b12b1(0xe9)],'clientId':_0x273959[_0x1b12b1(0xea)],'clientSecret':_0x273959[_0x1b12b1(0xe7)]},_0x4fa48c=_0x273959[_0x1b12b1(0xed)],_0x20452e=_0x273959['vlocityToken'],_0x7320f=_0x273959[_0x1b12b1(0xd3)],_0x273bc8=_0x273959[_0x1b12b1(0xc9)],_0x45ca88=_0x273959[_0x1b12b1(0xd0)],_0xc75525=_0x273959[_0x1b12b1(0xdb)],_0x3e58b9=JSON[_0x1b12b1(0xd6)](_0x273959[_0x1b12b1(0xde)]),_0x569fc6=_0x273959[_0x1b12b1(0xd4)];let _0x230454=[];_0x569fc6&&(_0x230454=JSON[_0x1b12b1(0xd6)](_0x569fc6));const _0x12125a=_0x273959[_0x1b12b1(0xd1)]+'_'+_0x45ca88+'_'+_0x273959[_0x1b12b1(0xd3)],_0x2afa7=path[_0x1b12b1(0xcf)](pathConfig['tmpPath'],_0x12125a),_0x40ed98='projectPath:\x20./'+constants[_0x1b12b1(0xcb)];Promise[_0x1b12b1(0xd2)]()[_0x1b12b1(0xe2)](()=>storage[_0x1b12b1(0xdd)](_0x2afa7))[_0x1b12b1(0xe2)](()=>storage[_0x1b12b1(0xda)](_0x2afa7,_0x40ed98,_0x139725))[_0x1b12b1(0xe2)](()=>http[_0x1b12b1(0xce)](_0x367c49,_0x3e58b9,_0xc75525,_0x3e58b9[_0x1b12b1(0xe6)],_0x139725))[_0x1b12b1(0xe2)](_0x62da73=>storage['convertToBuffer'](_0x62da73,_0x139725))[_0x1b12b1(0xe2)](_0x1f0277=>storage['unzipComponentList'](_0x1f0277,_0x2afa7,_0x139725))[_0x1b12b1(0xe2)](()=>{const _0x4d1be8=_0x1b12b1;if(_0x230454[_0x4d1be8(0xe6)])return helper['filterBySelectedKeys'](_0x2afa7,_0x230454,_0x139725);return Promise[_0x4d1be8(0xd2)]();})[_0x1b12b1(0xe2)](()=>helper['deployData'](_0x2afa7,_0x4fa48c,_0x20452e,_0x139725))[_0x1b12b1(0xe2)](_0x11a90a=>http[_0x1b12b1(0xcd)](_0x367c49,_0x7320f,_0xc75525,_0x273bc8,_0x11a90a,!![],_0x139725))['catch'](_0x428df5=>http['callUpdateInfo'](_0x367c49,_0x7320f,_0xc75525,_0x273bc8,_0x1b12b1(0xe5)+helper[_0x1b12b1(0xeb)]()+_0x1b12b1(0xe3)+_0x428df5,![],_0x139725,!![])[_0x1b12b1(0xe2)](()=>_0x1feca8(_0x428df5)))[_0x1b12b1(0xe2)](()=>storage['removeProject'](_0x2afa7,_0x139725));}catch(_0x482216){_0x1feca8(_0x482216);}});}module['exports']={'rollbackBranch':rollbackBranch};