const a45_0x5830a8=a45_0x5c14;function a45_0x5c14(_0x1849a5,_0x1ac7e3){const _0x731445=a45_0x7314();return a45_0x5c14=function(_0x5c142d,_0x1a217e){_0x5c142d=_0x5c142d-0x1e9;let _0x289628=_0x731445[_0x5c142d];return _0x289628;},a45_0x5c14(_0x1849a5,_0x1ac7e3);}(function(_0x413d75,_0xa119a6){const _0x29dd1a=a45_0x5c14,_0xa400c=_0x413d75();while(!![]){try{const _0x3524ce=-parseInt(_0x29dd1a(0x1ee))/0x1*(-parseInt(_0x29dd1a(0x20d))/0x2)+-parseInt(_0x29dd1a(0x200))/0x3+parseInt(_0x29dd1a(0x1f0))/0x4+parseInt(_0x29dd1a(0x1f5))/0x5+-parseInt(_0x29dd1a(0x1f8))/0x6+-parseInt(_0x29dd1a(0x1f9))/0x7+parseInt(_0x29dd1a(0x1fa))/0x8*(parseInt(_0x29dd1a(0x203))/0x9);if(_0x3524ce===_0xa119a6)break;else _0xa400c['push'](_0xa400c['shift']());}catch(_0x4c069f){_0xa400c['push'](_0xa400c['shift']());}}}(a45_0x7314,0xf1dfa));const path=require('path'),helper=require('./helper'),storage=require(a45_0x5830a8(0x20e)),http=require(a45_0x5830a8(0x1fc)),constants=require(a45_0x5830a8(0x201)),{pathConfig}=require('../../../config/path');function rollbackBranch(_0xf73630,_0x35b9b1){return new Promise((_0x5090b8,_0x347596)=>{const _0x1e5cf4=a45_0x5c14;try{console[_0x1e5cf4(0x1f3)](_0xf73630);const _0x49842e={'instanceUrl':_0xf73630['flosumUrl'],'accessToken':_0xf73630[_0x1e5cf4(0x208)],'clientId':_0xf73630['clientId'],'clientSecret':_0xf73630['clientSecret']},_0x33ba7d=_0xf73630[_0x1e5cf4(0x1eb)],_0xa4a7a4=_0xf73630[_0x1e5cf4(0x1ec)],_0x4b0c49=_0xf73630[_0x1e5cf4(0x20c)],_0x4681a6=_0xf73630[_0x1e5cf4(0x1f7)],_0x5adc0e=_0xf73630[_0x1e5cf4(0x1ff)],_0x433f61=_0xf73630[_0x1e5cf4(0x1fe)],_0x10081a=JSON[_0x1e5cf4(0x204)](_0xf73630[_0x1e5cf4(0x1f2)]),_0x20509d=_0xf73630['componentKeyList'];let _0x2fa47b=[];_0x20509d&&(_0x2fa47b=JSON[_0x1e5cf4(0x204)](_0x20509d));const _0x4d70aa=_0xf73630[_0x1e5cf4(0x20a)]+'_'+_0x5adc0e+'_'+_0xf73630[_0x1e5cf4(0x20c)],_0x1bc4f1=path[_0x1e5cf4(0x1ef)](pathConfig[_0x1e5cf4(0x1ed)],_0x4d70aa),_0x38207e=_0x1e5cf4(0x206)+constants['UNZIP_CATALOG_NAME'];Promise[_0x1e5cf4(0x1ea)]()[_0x1e5cf4(0x207)](()=>storage[_0x1e5cf4(0x20b)](_0x1bc4f1))['then'](()=>storage['createJobFileDeploy'](_0x1bc4f1,_0x38207e,_0x35b9b1))['then'](()=>http['callComponentList'](_0x49842e,_0x10081a,_0x433f61,_0x10081a[_0x1e5cf4(0x205)],_0x35b9b1))[_0x1e5cf4(0x207)](_0x4c1d84=>storage[_0x1e5cf4(0x1f4)](_0x4c1d84,_0x35b9b1))[_0x1e5cf4(0x207)](_0x2d88b1=>storage[_0x1e5cf4(0x1fb)](_0x2d88b1,_0x1bc4f1,_0x35b9b1))[_0x1e5cf4(0x207)](()=>{const _0x26ce12=_0x1e5cf4;if(_0x2fa47b[_0x26ce12(0x205)])return helper['filterBySelectedKeys'](_0x1bc4f1,_0x2fa47b,_0x35b9b1);return Promise[_0x26ce12(0x1ea)]();})[_0x1e5cf4(0x207)](()=>helper['deployData'](_0x1bc4f1,_0x33ba7d,_0xa4a7a4,_0x35b9b1))[_0x1e5cf4(0x207)](_0x24f70d=>http[_0x1e5cf4(0x1f1)](_0x49842e,_0x4b0c49,_0x433f61,_0x4681a6,_0x24f70d,!![],_0x35b9b1))['catch'](_0x2008d7=>http[_0x1e5cf4(0x1f1)](_0x49842e,_0x4b0c49,_0x433f61,_0x4681a6,_0x1e5cf4(0x202)+helper[_0x1e5cf4(0x1fd)]()+_0x1e5cf4(0x1e9)+_0x2008d7,![],_0x35b9b1,!![])[_0x1e5cf4(0x207)](()=>_0x347596(_0x2008d7)))['then'](()=>storage[_0x1e5cf4(0x209)](_0x1bc4f1,_0x35b9b1));}catch(_0x170863){_0x347596(_0x170863);}});}function a45_0x7314(){const _0x3f5289=['8407950mkKrNm','13013532jDgMLM','40sEpZsR','unzipComponentList','../../../services/http','getTime','nameSpacePrefix','timestamp','4013013fPavfd','../../../constants','Error\x20Date:\x20','8332623dVrkCF','parse','length','projectPath:\x20./','then','flosumToken','removeProject','snapshotType','createProjectDirectory','logId','1926HKRrqR','../../../services/storage','\x0aError\x20:\x20','resolve','vlocityUrl','vlocityToken','tmpPath','371TnmVYH','join','1008600PdZfNw','callUpdateInfo','attachmentIdList','log','convertToBuffer','1750640eRmKCf','exports','attachLogId'];a45_0x7314=function(){return _0x3f5289;};return a45_0x7314();}module[a45_0x5830a8(0x1f6)]={'rollbackBranch':rollbackBranch};