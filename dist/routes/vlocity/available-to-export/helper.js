const a11_0x4f02d3=a11_0xfe04;(function(_0x447ba8,_0x425ed1){const _0x1f1d92=a11_0xfe04,_0x11abf1=_0x447ba8();while(!![]){try{const _0x6eeacf=parseInt(_0x1f1d92(0x195))/0x1*(-parseInt(_0x1f1d92(0x181))/0x2)+-parseInt(_0x1f1d92(0x183))/0x3+parseInt(_0x1f1d92(0x17d))/0x4*(-parseInt(_0x1f1d92(0x17c))/0x5)+-parseInt(_0x1f1d92(0x184))/0x6+parseInt(_0x1f1d92(0x199))/0x7*(parseInt(_0x1f1d92(0x189))/0x8)+parseInt(_0x1f1d92(0x193))/0x9*(-parseInt(_0x1f1d92(0x18c))/0xa)+parseInt(_0x1f1d92(0x186))/0xb;if(_0x6eeacf===_0x425ed1)break;else _0x11abf1['push'](_0x11abf1['shift']());}catch(_0x3766cc){_0x11abf1['push'](_0x11abf1['shift']());}}}(a11_0x32e7,0x30bcb));const {readFile,access,writeFile,rm}=require(a11_0x4f02d3(0x185)),{join}=require(a11_0x4f02d3(0x180)),{AvailableToExportCommand}=require(a11_0x4f02d3(0x18d)),{pathConfig}=require('../../../config/path'),body={'instanceUrl':'','accessToken':'','page':0x0},AVAILABLE_TO_EXPORT=a11_0x4f02d3(0x17f),COUNT_OF_COMPONENTS_PER_PAGE=0x2710;function checkFileExists(_0x2546b5){return access(_0x2546b5)['then'](()=>!![])['catch'](()=>![]);}class AvailableToExportHelper{constructor({instanceUrl:_0x143c13,accessToken:_0x4b55f1,page:_0x591361}=body,_0xcb2bd7){const _0x289c3a=a11_0x4f02d3;this[_0x289c3a(0x18f)]=_0x143c13,this[_0x289c3a(0x197)]=_0x4b55f1,this[_0x289c3a(0x188)]=_0x591361!==null&&_0x591361!==undefined?_0x591361:-0x1,this['logger']=_0xcb2bd7;}async[a11_0x4f02d3(0x182)](){const _0x1ca7bd=a11_0x4f02d3,_0x4d2b86=join(pathConfig[_0x1ca7bd(0x198)],AVAILABLE_TO_EXPORT+'_'+this[_0x1ca7bd(0x197)][_0x1ca7bd(0x18b)](0x0,0xf)+_0x1ca7bd(0x196)),_0x31f137=await checkFileExists(_0x4d2b86);if(this[_0x1ca7bd(0x188)]!==null&&this[_0x1ca7bd(0x188)]!==undefined&&this['page']>0x0&&_0x31f137){const _0x253fb1=await readFile(_0x4d2b86,{'encoding':_0x1ca7bd(0x18e)});try{return JSON[_0x1ca7bd(0x19b)](_0x253fb1);}catch(_0x1e541a){}}this[_0x1ca7bd(0x188)]===0x0&&_0x31f137&&await rm(_0x4d2b86);const _0x467de0=await new AvailableToExportCommand({'vlocityAuth':{'accessToken':this[_0x1ca7bd(0x197)],'instanceUrl':this[_0x1ca7bd(0x18f)]},'logger':this[_0x1ca7bd(0x190)]})[_0x1ca7bd(0x192)](),_0x14f64b=_0x467de0?.[_0x1ca7bd(0x17b)]['map'](({VlocityDataPackType:_0x5c3e97,Name:_0x1fce52,VlocityDataPackDisplayLabel:_0x38bf29,VlocityDataPackKey:_0xdb32c5})=>({'type':_0x5c3e97,'name':_0x1fce52,'label':_0x38bf29,'key':_0xdb32c5}));return _0x14f64b[_0x1ca7bd(0x187)]((_0x29518a,_0x2715be)=>{const _0x2a1b3b=_0x1ca7bd,_0xb07f86=_0x29518a[_0x2a1b3b(0x17e)]+'_'+_0x29518a[_0x2a1b3b(0x194)],_0x11940d=_0x2715be[_0x2a1b3b(0x17e)]+'_'+_0x2715be['key'];if(_0xb07f86>_0x11940d)return 0x1;if(_0x11940d>_0xb07f86)return-0x1;return 0x0;}),_0x14f64b[_0x1ca7bd(0x19a)]>COUNT_OF_COMPONENTS_PER_PAGE&&await writeFile(_0x4d2b86,JSON['stringify'](_0x14f64b)),_0x14f64b;}async['execute'](){const _0x6b5597=a11_0x4f02d3,_0x1218c2=await this[_0x6b5597(0x182)](),_0x2b38f9={};let _0x57b61a=-0x1,_0x2ebb18=0x0;for(const {type:_0x347f91,name:_0x3adfa6,label:_0x5399d1,key:_0x18a0c5}of _0x1218c2){_0x57b61a++;if(this['page']>=0x0){if(_0x2ebb18>=COUNT_OF_COMPONENTS_PER_PAGE)return _0x2b38f9;if(_0x57b61a<this[_0x6b5597(0x188)]*COUNT_OF_COMPONENTS_PER_PAGE)continue;}!_0x2b38f9[_0x347f91]&&(_0x2b38f9[_0x347f91]=[]),_0x2b38f9[_0x347f91][_0x6b5597(0x191)]({'name':_0x3adfa6,'label':_0x5399d1,'key':_0x18a0c5}),_0x2ebb18++;}return _0x2b38f9;}}module[a11_0x4f02d3(0x18a)]={'AvailableToExportHelper':AvailableToExportHelper};function a11_0xfe04(_0xbfa77,_0x506eed){const _0x32e7d2=a11_0x32e7();return a11_0xfe04=function(_0xfe0489,_0x30b18a){_0xfe0489=_0xfe0489-0x17b;let _0x529d7b=_0x32e7d2[_0xfe0489];return _0x529d7b;},a11_0xfe04(_0xbfa77,_0x506eed);}function a11_0x32e7(){const _0x4e346b=['fs/promises','8024786RsurLd','sort','page','8KJgJvO','exports','substring','57270eAQUPr','../../../services/cli-commands/available-to-export.command','utf-8','vlocityUrl','logger','push','execute','603chsBap','key','70647klDFfb','.json','vlocityToken','tmpPath','2385173IVIaYO','length','parse','records','105qIXJrx','25292IvrAvP','type','available_export','path','2HHulSC','availableToExport','723453OjoyjH','254088BghOrs'];a11_0x32e7=function(){return _0x4e346b;};return a11_0x32e7();}