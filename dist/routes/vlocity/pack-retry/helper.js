const a37_0x4a8ef1=a37_0x544a;function a37_0x4cbe(){const _0x270ded=['getMinutes','-sf.accessToken\x20##########','existsSync','6548368gFUNnf','-nojob','getSeconds','End\x20Unzip\x20Vlocity\x20Temp','Start\x20Unzip\x20Vlocity\x20Temp','567351ZInsiN','getFullYear','-sf.instanceUrl\x20','No\x20Components\x20To\x20Deploy','0$1','Error\x20Pack\x20Retry\x20','toString','getMonth','getHours','301304wfbGsN','../../../constants','3CmsqxY','forEach','packRetry','351589NcmSDU','SOURCE_FOLDER','callChildProcess','catch','exports','Error\x20Unzip\x20Vlocity\x20Temp\x20','2481426NZhjAK','-sf.accessToken','Exist\x20Components\x20To\x20Deploy','getDate','-sf.instanceUrl','614844eIkkeI','183470KaQNuV','log','18bnNrKz','updateAttachmentLog','then','adm-zip'];a37_0x4cbe=function(){return _0x270ded;};return a37_0x4cbe();}(function(_0x5bec75,_0x3a98a8){const _0x26d810=a37_0x544a,_0xb250b0=_0x5bec75();while(!![]){try{const _0x4d8bcd=-parseInt(_0x26d810(0xa8))/0x1+parseInt(_0x26d810(0x99))/0x2*(-parseInt(_0x26d810(0x8b))/0x3)+-parseInt(_0x26d810(0x89))/0x4+parseInt(_0x26d810(0x9a))/0x5+-parseInt(_0x26d810(0x94))/0x6+parseInt(_0x26d810(0x8e))/0x7+parseInt(_0x26d810(0xa3))/0x8*(parseInt(_0x26d810(0x9c))/0x9);if(_0x4d8bcd===_0x3a98a8)break;else _0xb250b0['push'](_0xb250b0['shift']());}catch(_0x5af324){_0xb250b0['push'](_0xb250b0['shift']());}}}(a37_0x4cbe,0x57f97));const AdmZip=require(a37_0x4a8ef1(0x9f)),fs=require('fs'),childProcess=require('../../../services/child-process'),constants=require(a37_0x4a8ef1(0x8a)),http=require('../../../services/http');function unzipVlocityTemp(_0x490c4a,_0x2ecaa7,_0x146c70){return new Promise((_0x45fd72,_0x137b57)=>{const _0x23be5b=a37_0x544a;try{_0x146c70[_0x23be5b(0x9b)](_0x23be5b(0xa7));const _0x43d731=new AdmZip(_0x2ecaa7);_0x43d731['extractAllTo'](_0x490c4a,![]),_0x45fd72(),_0x146c70['log'](_0x23be5b(0xa6));}catch(_0x12e102){_0x146c70['log'](_0x23be5b(0x93)+_0x12e102),_0x137b57(_0x12e102);}});}function packRetry(_0x3866ba,_0x38fab6,_0x199931,_0x403a55,_0x356c63,_0x37ad25,_0x1e090b){return new Promise((_0x8944e3,_0x2c05b7)=>{const _0xfe90ea=a37_0x544a;try{_0x1e090b[_0xfe90ea(0x9b)]('Start\x20Pack\x20Retry');const _0x3dc257='vlocity',_0x5a45f3=[_0xfe90ea(0x95),''+_0x199931,_0xfe90ea(0x98),''+_0x38fab6,'--nojob','packRetry'];_0x1e090b[_0xfe90ea(0x9b)]('Command:'),_0x1e090b[_0xfe90ea(0x9b)](_0xfe90ea(0xa1)),_0x1e090b[_0xfe90ea(0x9b)](_0xfe90ea(0xaa)+_0x38fab6),_0x1e090b[_0xfe90ea(0x9b)](_0xfe90ea(0xa4)),_0x1e090b[_0xfe90ea(0x9b)](_0xfe90ea(0x8d));function _0x1693e2(){const _0x559fa5=_0xfe90ea;http[_0x559fa5(0x9d)](_0x3866ba,_0x403a55,_0x356c63,_0x37ad25,_0x1e090b,![]);}const _0x1afebd={'cwd':_0x3866ba,'maxBuffer':0x400*0x1f4,'shell':!![]};childProcess[_0xfe90ea(0x90)](_0x3dc257,_0x5a45f3,_0x1e090b,_0x1afebd,!![],_0x1693e2)[_0xfe90ea(0x9e)](_0x909f6=>{_0x1e090b['log']('End\x20Pack\x20Retry'),_0x8944e3(_0x909f6);})[_0xfe90ea(0x91)](_0x5a7f9f=>{const _0x53c34d=_0xfe90ea;_0x1e090b['log'](_0x53c34d(0xad)+_0x5a7f9f),_0x2c05b7(_0x5a7f9f);});}catch(_0x2c840b){_0x2c05b7(_0x2c840b);}});}function a37_0x544a(_0x16fedf,_0x2cbac8){const _0x4cbe1d=a37_0x4cbe();return a37_0x544a=function(_0x544ac1,_0x25daea){_0x544ac1=_0x544ac1-0x88;let _0x4cf2fb=_0x4cbe1d[_0x544ac1];return _0x4cf2fb;},a37_0x544a(_0x16fedf,_0x2cbac8);}function isNeedToDeploy(_0x4f6c11,_0x456cd3){return new Promise((_0x3d362c,_0xbd1703)=>{const _0x1aafbd=a37_0x544a;try{fs[_0x1aafbd(0xa2)](_0x4f6c11+'/'+constants[_0x1aafbd(0x8f)])?(_0x456cd3[_0x1aafbd(0x9b)](_0x1aafbd(0x96)),_0x3d362c(!![])):(_0x456cd3['log'](_0x1aafbd(0xab)),_0x3d362c(![]));}catch(_0x250aa4){_0x456cd3[_0x1aafbd(0x9b)](_0x1aafbd(0x93)+_0x250aa4),_0xbd1703(_0x250aa4);}});}function getTime(){const _0x1907c4=a37_0x4a8ef1,_0x189542=new Date(),_0x46ecc1=[_0x189542[_0x1907c4(0x97)](),_0x189542[_0x1907c4(0xaf)]()+0x1,_0x189542[_0x1907c4(0xa9)](),_0x189542[_0x1907c4(0x88)](),_0x189542[_0x1907c4(0xa0)](),_0x189542[_0x1907c4(0xa5)]()];return _0x46ecc1[_0x1907c4(0x8c)](_0x3dff6e=>_0x3dff6e=_0x3dff6e[_0x1907c4(0xae)]()['replace'](/^([0-9])$/,_0x1907c4(0xac))),_0x46ecc1[0x2]+'-'+_0x46ecc1[0x1]+'-'+_0x46ecc1[0x0]+'\x20'+_0x46ecc1[0x3]+':'+_0x46ecc1[0x4]+':'+_0x46ecc1[0x5];}module[a37_0x4a8ef1(0x92)]={'unzipVlocityTemp':unzipVlocityTemp,'packRetry':packRetry,'getTime':getTime,'isNeedToDeploy':isNeedToDeploy};