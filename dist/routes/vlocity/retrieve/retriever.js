function a43_0x3846(){const _0x5ca114=['createJobFile','1354190QXWBfG','isSCPV','js-yaml','checkErrors','Start\x20pack\x20retry','4624323PmaHOG','constants','readFile','../../../constants','length','isSMV','3205984PajRBX','manifest','log','Errors','F_OK','exports','flosumAuth','catch','load','execute','projectPath','2682516hshMUc','vlocityAuth','../../../services/logger','End\x20pack\x20retry','5909812eeRrLK','isRetry','../../../services/cli-commands/pack-retry.command','join','maxDepth','1197480GooiXA','path','../../../services/cli-commands/pack-export.command','access','48263747RWgZiF','toString','fs/promises','logger'];a43_0x3846=function(){return _0x5ca114;};return a43_0x3846();}const a43_0x2e4d1e=a43_0x21ca;(function(_0x50913b,_0x35b3a6){const _0x13616d=a43_0x21ca,_0x234549=_0x50913b();while(!![]){try{const _0x1971cf=-parseInt(_0x13616d(0x84))/0x1+-parseInt(_0x13616d(0x98))/0x2+-parseInt(_0x13616d(0x92))/0x3+-parseInt(_0x13616d(0x7f))/0x4+parseInt(_0x13616d(0x8d))/0x5+-parseInt(_0x13616d(0x7b))/0x6+parseInt(_0x13616d(0x88))/0x7;if(_0x1971cf===_0x35b3a6)break;else _0x234549['push'](_0x234549['shift']());}catch(_0x2654fe){_0x234549['push'](_0x234549['shift']());}}}(a43_0x3846,0xdb887));const path=require(a43_0x2e4d1e(0x85)),fs=require(a43_0x2e4d1e(0x8a)),yaml=require(a43_0x2e4d1e(0x8f)),{PackExportCommand}=require(a43_0x2e4d1e(0x86)),{PackRetryCommand}=require(a43_0x2e4d1e(0x81)),{Logger}=require(a43_0x2e4d1e(0x7d)),{JOB_FILE_NAME,NAME_LOGS_FILE}=require(a43_0x2e4d1e(0x95)),retrieverOptions={'projectPath':'','flosumAuth':{'instanceUrl':'','accessToken':''},'vlocityAuth':{'instanceUrl':'','accessToken':''},'maxDepth':0x0,'isRetry':![],'isSMV':![],'isSCPV':![],'manifest':'','logger':new Logger()};function a43_0x21ca(_0x27bc01,_0x438246){const _0x3846fb=a43_0x3846();return a43_0x21ca=function(_0x21ca0c,_0x5dc5a2){_0x21ca0c=_0x21ca0c-0x73;let _0x35537f=_0x3846fb[_0x21ca0c];return _0x35537f;},a43_0x21ca(_0x27bc01,_0x438246);}class Retriever{constructor({projectPath:_0x21d4cd,flosumAuth:_0x1e6bb8,vlocityAuth:_0x3ac6db,maxDepth:_0x302948,isRetry:_0x4f0f2d,isSMV:_0x57bb6b,isSCPV:_0x18c382,manifest:_0x2c4fa8,logger:_0x2ec140}=retrieverOptions){const _0x27aa4f=a43_0x2e4d1e;this[_0x27aa4f(0x7a)]=_0x21d4cd,this[_0x27aa4f(0x76)]=_0x1e6bb8,this[_0x27aa4f(0x7c)]=_0x3ac6db,this['maxDepth']=_0x302948,this[_0x27aa4f(0x80)]=_0x4f0f2d,this['isSMV']=_0x57bb6b,this[_0x27aa4f(0x8e)]=_0x18c382,this['manifest']=_0x2c4fa8,this['logger']=_0x2ec140;}async['createJobFile'](){const _0xf5f0f8=a43_0x2e4d1e;this[_0xf5f0f8(0x8b)][_0xf5f0f8(0x9a)]('Create\x20Job\x20File');const _0x38174b=this[_0xf5f0f8(0x7a)]+'/'+JOB_FILE_NAME;await fs['writeFile'](_0x38174b,this[_0xf5f0f8(0x99)]);}async['checkErrors'](){const _0x2cbc7f=a43_0x2e4d1e,_0x2a3c38=path[_0x2cbc7f(0x82)](this[_0x2cbc7f(0x7a)],NAME_LOGS_FILE),_0x5e60f4=await fs[_0x2cbc7f(0x87)](_0x2a3c38,fs[_0x2cbc7f(0x93)][_0x2cbc7f(0x74)])['then'](()=>!![])[_0x2cbc7f(0x77)](()=>![]);if(!_0x5e60f4)return![];try{const _0x40ce03=(await fs[_0x2cbc7f(0x94)](_0x2a3c38))[_0x2cbc7f(0x89)](),_0x5c10f4=yaml[_0x2cbc7f(0x78)](_0x40ce03,{'json':!![]});return!!_0x5c10f4?.[_0x2cbc7f(0x73)]?.[_0x2cbc7f(0x96)];}catch{return![];}}async[a43_0x2e4d1e(0x79)](){const _0x435003=a43_0x2e4d1e;await this[_0x435003(0x8c)](),await new PackExportCommand({'vlocityAuth':this[_0x435003(0x7c)],'projectPath':this[_0x435003(0x7a)],'maxDepth':this[_0x435003(0x83)],'isSMV':this[_0x435003(0x97)],'isSCPV':this[_0x435003(0x8e)],'logger':this['logger']})[_0x435003(0x79)]();if(!this[_0x435003(0x80)])return;const _0x42594d=await this[_0x435003(0x90)]();if(!_0x42594d)return;this['logger']['log'](_0x435003(0x91)),await new PackRetryCommand({'vlocityAuth':this[_0x435003(0x7c)],'projectPath':this['projectPath'],'logger':this[_0x435003(0x8b)]}),this[_0x435003(0x8b)][_0x435003(0x9a)](_0x435003(0x7e));}}module[a43_0x2e4d1e(0x75)]={'Retriever':Retriever};