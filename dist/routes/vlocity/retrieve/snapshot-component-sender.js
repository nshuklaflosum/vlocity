function a44_0x2fc8(){const _0xd6193f=['findSubComponents','endsWith','base64','chunks','add','readdir','1680819ewZUlV','prepareSnapshotChunks','post','parse','namespace','497gKvssw','Cannot\x20retrieve\x20component\x20','../../../constants','550649vNXsZR','log','toString','Name','push','SnapshotVlocity/','2522660sPhKqm','then','Nothing\x20to\x20deploy','execute','path','_DataPack.json','toBuffer','getComponentData','13248488YvbkgA','findComponentName','has','633540vNutyE','sourcePath','27186wBrnvn','processedComponents','stringify','../../../services/http','readFile','exports','sendChunkToSnapshot','1199830XUUAxo',',\x20size\x20more\x20then\x203mb.','Title','logger','projectPath','length','crc-32','constants','F_OK','catch','adm-zip','snapshotId','flosumAuth'];a44_0x2fc8=function(){return _0xd6193f;};return a44_0x2fc8();}const a44_0x590124=a44_0x9c23;(function(_0x9ac33c,_0x73b7e1){const _0x549735=a44_0x9c23,_0x345484=_0x9ac33c();while(!![]){try{const _0x552a68=-parseInt(_0x549735(0x1b5))/0x1+parseInt(_0x549735(0x1cf))/0x2+-parseInt(_0x549735(0x1e2))/0x3+-parseInt(_0x549735(0x1bb))/0x4+parseInt(_0x549735(0x1c6))/0x5+parseInt(_0x549735(0x1c8))/0x6*(-parseInt(_0x549735(0x1e7))/0x7)+parseInt(_0x549735(0x1c3))/0x8;if(_0x552a68===_0x73b7e1)break;else _0x345484['push'](_0x345484['shift']());}catch(_0x3d8538){_0x345484['push'](_0x345484['shift']());}}}(a44_0x2fc8,0x4dfa4));const path=require(a44_0x590124(0x1bf)),fs=require('fs/promises'),AdmZip=require(a44_0x590124(0x1d9)),crc32=require(a44_0x590124(0x1d5)),http=require(a44_0x590124(0x1cb)),{UNZIP_CATALOG_NAME}=require(a44_0x590124(0x1b4)),{Logger}=require('../../../services/logger'),senderOptions={'projectPath':'','namespace':'','snapshotId':'','flosumAuth':{'instanceUrl':'','accessToken':''},'logger':new Logger()};function a44_0x9c23(_0x11013a,_0x566716){const _0x2fc8ec=a44_0x2fc8();return a44_0x9c23=function(_0x9c2317,_0x2cd829){_0x9c2317=_0x9c2317-0x1b3;let _0x2aef21=_0x2fc8ec[_0x9c2317];return _0x2aef21;},a44_0x9c23(_0x11013a,_0x566716);}class SnapshotComponentSender{constructor({projectPath:_0x1a2154,namespace:_0x562de8,snapshotId:_0x317083,flosumAuth:_0x9aff13,logger:_0x1e55dd}=senderOptions){const _0x3c709f=a44_0x590124;this['projectPath']=_0x1a2154,this[_0x3c709f(0x1e6)]=_0x562de8,this[_0x3c709f(0x1da)]=_0x317083,this['flosumAuth']=_0x9aff13,this['logger']=_0x1e55dd,this[_0x3c709f(0x1c7)]=this[_0x3c709f(0x1d3)]+'/'+UNZIP_CATALOG_NAME,this['chunks']=[],this[_0x3c709f(0x1c9)]=new Set();}async[a44_0x590124(0x1e3)](){const _0x58d29d=a44_0x590124;let _0x4f7ab2=0x0,_0x51a9e6=[],_0x4e476f=0x0;const _0x1adecb=await fs[_0x58d29d(0x1e1)](this[_0x58d29d(0x1c7)]);for(const _0x429bc4 of _0x1adecb){const _0x1f872e=await fs['readdir'](this[_0x58d29d(0x1c7)]+'/'+_0x429bc4);for(const _0x461510 of _0x1f872e){const _0x1d9be0=this[_0x58d29d(0x1c7)]+'/'+_0x429bc4+'/'+_0x461510,_0x448c1f=_0x429bc4+'/'+_0x461510;if(this[_0x58d29d(0x1c9)][_0x58d29d(0x1c5)](_0x448c1f))continue;const _0x3612d9=await this[_0x58d29d(0x1c4)](_0x429bc4,_0x461510),_0x32c16f=await this[_0x58d29d(0x1dc)](_0x429bc4,_0x461510),{crc:_0x1806e1,base64:_0x5a8c51,size:_0x2443ba}=await this[_0x58d29d(0x1c2)](_0x1d9be0,_0x429bc4,_0x461510);if(_0x2443ba>=0x2dc6c0){this[_0x58d29d(0x1d2)]['log'](_0x58d29d(0x1b3)+_0x448c1f+_0x58d29d(0x1d0),!![]);continue;}const _0x55cdb0={'fileName':_0x3612d9,'name':_0x461510,'type':_0x429bc4,'label':_0x448c1f,'crc':_0x1806e1,'base64':_0x5a8c51,'snapshotId':this['snapshotId'],'subItemList':JSON[_0x58d29d(0x1ca)](_0x32c16f)};this[_0x58d29d(0x1c9)][_0x58d29d(0x1e0)](_0x448c1f);if(_0x4f7ab2+_0x2443ba>0x1e8480||_0x4e476f>0xfa0){this[_0x58d29d(0x1df)]['push'](_0x51a9e6),_0x51a9e6=[_0x55cdb0],_0x4e476f=0x0,_0x4f7ab2=0x0;continue;}_0x51a9e6[_0x58d29d(0x1b9)](_0x55cdb0),_0x4e476f++,_0x4f7ab2+=_0x2443ba;}}_0x51a9e6[_0x58d29d(0x1d4)]&&this[_0x58d29d(0x1df)][_0x58d29d(0x1b9)](_0x51a9e6);}async[a44_0x590124(0x1ce)](_0x20b5a5){const _0x56acdd=a44_0x590124;try{await http[_0x56acdd(0x1e4)](this[_0x56acdd(0x1db)],this['namespace'],{'items':_0x20b5a5},_0x56acdd(0x1ba)),this[_0x56acdd(0x1d2)]['log']('Chunk\x20deployed');}catch(_0xcba5aa){this['logger'][_0x56acdd(0x1b6)]('Error\x20deploy\x20chunk\x20'+_0xcba5aa);}}async['getComponentData'](_0x3ba1d0,_0x47ca1b,_0x109c97){const _0x4e55fc=a44_0x590124,_0x41f18f=new AdmZip();_0x41f18f['addLocalFolder'](_0x3ba1d0,_0x47ca1b+'/'+_0x109c97);const _0x5da4ba=_0x41f18f[_0x4e55fc(0x1c1)](),_0x4f950e=crc32['buf'](_0x5da4ba),_0x3b4ff0=_0x5da4ba[_0x4e55fc(0x1b7)](_0x4e55fc(0x1de)),_0x2f4e45=_0x5da4ba[_0x4e55fc(0x1d4)];return{'crc':_0x4f950e,'base64':_0x3b4ff0,'size':_0x2f4e45};}async[a44_0x590124(0x1c4)](_0x56bb51,_0x3e2ba2){const _0x1d44cb=a44_0x590124,_0x42a504=this[_0x1d44cb(0x1c7)]+'/'+_0x56bb51+'/'+_0x3e2ba2,_0x3a76df=await fs['readdir'](_0x42a504);for(const _0x3a1abc of _0x3a76df){if(!_0x3a1abc[_0x1d44cb(0x1dd)](_0x1d44cb(0x1c0)))continue;try{const _0x3ab432=await fs[_0x1d44cb(0x1cc)](_0x42a504+'/'+_0x3a1abc),_0x168b09=JSON[_0x1d44cb(0x1e5)](_0x3ab432[_0x1d44cb(0x1b7)]());return _0x168b09[_0x1d44cb(0x1b8)]||_0x168b09[_0x1d44cb(0x1d1)]||_0x3e2ba2;}catch{return _0x3e2ba2;}}return _0x3e2ba2;}async[a44_0x590124(0x1dc)](_0x9c07b2,_0x11e32b,_0x3c1ad6=''){const _0x54e0d6=a44_0x590124;_0x3c1ad6&&(_0x3c1ad6=_0x3c1ad6+'/');const _0x21227d=[],_0x32faca=this['sourcePath']+'/'+_0x9c07b2+'/'+_0x11e32b+'/'+_0x3c1ad6,_0x531b95=await fs[_0x54e0d6(0x1e1)](_0x32faca);for(const _0xfc5fcc of _0x531b95){const _0x56061f=_0x32faca+'/'+_0xfc5fcc,_0x480bba=await fs['lstat'](_0x56061f);if(!_0x480bba['isDirectory']()){_0x3c1ad6&&_0x21227d['push'](''+_0x3c1ad6+_0xfc5fcc);continue;}const _0x14f957=await this[_0x54e0d6(0x1dc)](_0x9c07b2,_0x11e32b,''+_0x3c1ad6+_0xfc5fcc);_0x21227d[_0x54e0d6(0x1b9)](..._0x14f957);}return _0x21227d;}async[a44_0x590124(0x1be)](){const _0x42c3f6=a44_0x590124,_0x4ea92e=await fs['access'](this[_0x42c3f6(0x1c7)],fs[_0x42c3f6(0x1d6)][_0x42c3f6(0x1d7)])[_0x42c3f6(0x1bc)](()=>!![])[_0x42c3f6(0x1d8)](()=>![]);if(!_0x4ea92e){this[_0x42c3f6(0x1d2)][_0x42c3f6(0x1b6)](_0x42c3f6(0x1bd));return;}const _0x1506f6=await fs[_0x42c3f6(0x1e1)](this[_0x42c3f6(0x1c7)]);if(!_0x1506f6['length']){this[_0x42c3f6(0x1d2)][_0x42c3f6(0x1b6)](_0x42c3f6(0x1bd));return;}await this[_0x42c3f6(0x1e3)]();for(const _0x3999a1 of this[_0x42c3f6(0x1df)]){await this['sendChunkToSnapshot'](_0x3999a1);}this[_0x42c3f6(0x1df)]=[];}}module[a44_0x590124(0x1cd)]={'SnapshotComponentSender':SnapshotComponentSender};