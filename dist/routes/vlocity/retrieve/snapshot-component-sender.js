function a44_0x365b(_0xb6067,_0x2aedea){const _0x2611aa=a44_0x2611();return a44_0x365b=function(_0x365b44,_0x40734c){_0x365b44=_0x365b44-0x166;let _0x54a9ce=_0x2611aa[_0x365b44];return _0x54a9ce;},a44_0x365b(_0xb6067,_0x2aedea);}const a44_0x472fcc=a44_0x365b;(function(_0x568666,_0x1646a3){const _0x27bb27=a44_0x365b,_0x10e873=_0x568666();while(!![]){try{const _0x5f5c54=parseInt(_0x27bb27(0x182))/0x1+-parseInt(_0x27bb27(0x185))/0x2+parseInt(_0x27bb27(0x183))/0x3+parseInt(_0x27bb27(0x17e))/0x4+-parseInt(_0x27bb27(0x16d))/0x5+-parseInt(_0x27bb27(0x18f))/0x6*(-parseInt(_0x27bb27(0x194))/0x7)+-parseInt(_0x27bb27(0x17c))/0x8*(parseInt(_0x27bb27(0x197))/0x9);if(_0x5f5c54===_0x1646a3)break;else _0x10e873['push'](_0x10e873['shift']());}catch(_0x366c2b){_0x10e873['push'](_0x10e873['shift']());}}}(a44_0x2611,0x598d2));const path=require(a44_0x472fcc(0x172)),fs=require(a44_0x472fcc(0x18d)),AdmZip=require(a44_0x472fcc(0x199)),crc32=require(a44_0x472fcc(0x169)),http=require(a44_0x472fcc(0x180)),{UNZIP_CATALOG_NAME}=require(a44_0x472fcc(0x18e)),{Logger}=require(a44_0x472fcc(0x176)),senderOptions={'projectPath':'','namespace':'','snapshotId':'','flosumAuth':{'instanceUrl':'','accessToken':''},'logger':new Logger()};class SnapshotComponentSender{constructor({projectPath:_0xc129e1,namespace:_0x139cc5,snapshotId:_0x485bfa,flosumAuth:_0x12dd0,logger:_0x4d1aab}=senderOptions){const _0x39c05d=a44_0x472fcc;this[_0x39c05d(0x16a)]=_0xc129e1,this[_0x39c05d(0x181)]=_0x139cc5,this[_0x39c05d(0x16b)]=_0x485bfa,this[_0x39c05d(0x18c)]=_0x12dd0,this[_0x39c05d(0x191)]=_0x4d1aab,this[_0x39c05d(0x17f)]=this['projectPath']+'/'+UNZIP_CATALOG_NAME,this['chunks']=[],this[_0x39c05d(0x195)]=new Set();}async[a44_0x472fcc(0x17d)](){const _0x4ceb52=a44_0x472fcc;let _0x413df7=0x0,_0x4d4f84=[],_0xbabc8e=0x0;const _0x3fad69=await fs[_0x4ceb52(0x189)](this['sourcePath']);for(const _0x19d75a of _0x3fad69){const _0x304096=await fs[_0x4ceb52(0x189)](this[_0x4ceb52(0x17f)]+'/'+_0x19d75a);for(const _0x3422f2 of _0x304096){const _0x43327b=this[_0x4ceb52(0x17f)]+'/'+_0x19d75a+'/'+_0x3422f2,_0x5dabb8=_0x19d75a+'/'+_0x3422f2;if(this[_0x4ceb52(0x195)][_0x4ceb52(0x170)](_0x5dabb8))continue;const _0x54a615=await this['findComponentName'](_0x19d75a,_0x3422f2),_0x15540c=await this[_0x4ceb52(0x196)](_0x19d75a,_0x3422f2),{crc:_0x26346d,base64:_0x483595,size:_0x5173ed}=await this[_0x4ceb52(0x16e)](_0x43327b,_0x19d75a,_0x3422f2);if(_0x5173ed>=0x2dc6c0){this['logger'][_0x4ceb52(0x190)](_0x4ceb52(0x19d)+_0x5dabb8+',\x20size\x20more\x20then\x203mb.',!![]);continue;}const _0x5e6684={'fileName':_0x54a615,'name':_0x3422f2,'type':_0x19d75a,'label':_0x5dabb8,'crc':_0x26346d,'base64':_0x483595,'snapshotId':this[_0x4ceb52(0x16b)],'subItemList':JSON[_0x4ceb52(0x17b)](_0x15540c)};this[_0x4ceb52(0x195)][_0x4ceb52(0x168)](_0x5dabb8);if(_0x413df7+_0x5173ed>0x1e8480||_0xbabc8e>0xfa0){this[_0x4ceb52(0x18b)][_0x4ceb52(0x193)](_0x4d4f84),_0x4d4f84=[_0x5e6684],_0xbabc8e=0x0,_0x413df7=0x0;continue;}_0x4d4f84[_0x4ceb52(0x193)](_0x5e6684),_0xbabc8e++,_0x413df7+=_0x5173ed;}}_0x4d4f84[_0x4ceb52(0x19a)]&&this['chunks'][_0x4ceb52(0x193)](_0x4d4f84);}async[a44_0x472fcc(0x179)](_0x54829f){const _0xfaf0dd=a44_0x472fcc;try{await http[_0xfaf0dd(0x175)](this[_0xfaf0dd(0x18c)],this[_0xfaf0dd(0x181)],{'items':_0x54829f},_0xfaf0dd(0x16c)),this[_0xfaf0dd(0x191)][_0xfaf0dd(0x190)](_0xfaf0dd(0x167));}catch(_0x925465){this['logger'][_0xfaf0dd(0x190)]('Error\x20deploy\x20chunk\x20'+_0x925465);}}async[a44_0x472fcc(0x16e)](_0x35a073,_0x3612a2,_0x207bdb){const _0x4dc6a9=a44_0x472fcc,_0x55d58b=new AdmZip();_0x55d58b['addLocalFolder'](_0x35a073,_0x3612a2+'/'+_0x207bdb);const _0x9fe90f=_0x55d58b[_0x4dc6a9(0x16f)](),_0x1fa37a=crc32[_0x4dc6a9(0x188)](_0x9fe90f),_0x952d73=_0x9fe90f[_0x4dc6a9(0x178)](_0x4dc6a9(0x184)),_0x5bbdb1=_0x9fe90f['length'];return{'crc':_0x1fa37a,'base64':_0x952d73,'size':_0x5bbdb1};}async[a44_0x472fcc(0x186)](_0x42819b,_0x1cf41e){const _0x13cf1a=a44_0x472fcc,_0x37af67=this[_0x13cf1a(0x17f)]+'/'+_0x42819b+'/'+_0x1cf41e,_0x4c1391=await fs[_0x13cf1a(0x189)](_0x37af67);for(const _0x1f3177 of _0x4c1391){if(!_0x1f3177[_0x13cf1a(0x174)](_0x13cf1a(0x17a)))continue;try{const _0x7a9774=await fs[_0x13cf1a(0x187)](_0x37af67+'/'+_0x1f3177),_0x51d51d=JSON[_0x13cf1a(0x173)](_0x7a9774[_0x13cf1a(0x178)]());return _0x51d51d['Name']||_0x51d51d[_0x13cf1a(0x19c)]||_0x1cf41e;}catch{return _0x1cf41e;}}return _0x1cf41e;}async['findSubComponents'](_0x228e8c,_0x5517a3,_0x1b39db=''){const _0x1b89e3=a44_0x472fcc;_0x1b39db&&(_0x1b39db=_0x1b39db+'/');const _0x51647c=[],_0x16ba0c=this[_0x1b89e3(0x17f)]+'/'+_0x228e8c+'/'+_0x5517a3+'/'+_0x1b39db,_0x4a1c68=await fs[_0x1b89e3(0x189)](_0x16ba0c);for(const _0x3f944c of _0x4a1c68){const _0xf0d517=_0x16ba0c+'/'+_0x3f944c,_0x3cbee9=await fs[_0x1b89e3(0x19b)](_0xf0d517);if(!_0x3cbee9[_0x1b89e3(0x171)]()){_0x1b39db&&_0x51647c['push'](''+_0x1b39db+_0x3f944c);continue;}const _0x10df2a=await this[_0x1b89e3(0x196)](_0x228e8c,_0x5517a3,''+_0x1b39db+_0x3f944c);_0x51647c['push'](..._0x10df2a);}return _0x51647c;}async[a44_0x472fcc(0x198)](){const _0x27dd5d=a44_0x472fcc,_0x451c4f=await fs[_0x27dd5d(0x192)](this[_0x27dd5d(0x17f)],fs[_0x27dd5d(0x177)]['F_OK'])[_0x27dd5d(0x166)](()=>!![])['catch'](()=>![]);if(!_0x451c4f){this[_0x27dd5d(0x191)]['log'](_0x27dd5d(0x18a));return;}const _0x416bb3=await fs[_0x27dd5d(0x189)](this[_0x27dd5d(0x17f)]);if(!_0x416bb3[_0x27dd5d(0x19a)]){this[_0x27dd5d(0x191)]['log'](_0x27dd5d(0x18a));return;}await this[_0x27dd5d(0x17d)]();for(const _0x4ad403 of this[_0x27dd5d(0x18b)]){await this[_0x27dd5d(0x179)](_0x4ad403);}this[_0x27dd5d(0x18b)]=[];}}module['exports']={'SnapshotComponentSender':SnapshotComponentSender};function a44_0x2611(){const _0x5199cd=['buf','readdir','Nothing\x20to\x20deploy','chunks','flosumAuth','fs/promises','../../../constants','50454ggDPsp','log','logger','access','push','273vWTTCd','processedComponents','findSubComponents','151029czjTPk','execute','adm-zip','length','lstat','Title','Cannot\x20retrieve\x20component\x20','then','Chunk\x20deployed','add','crc-32','projectPath','snapshotId','SnapshotVlocity/','268875qXpkny','getComponentData','toBuffer','has','isDirectory','path','parse','endsWith','post','../../../services/logger','constants','toString','sendChunkToSnapshot','_DataPack.json','stringify','272UNwanU','prepareSnapshotChunks','812056FNUJMZ','sourcePath','../../../services/http','namespace','543557pHbBJN','273249zNSpyB','base64','348948AArheo','findComponentName','readFile'];a44_0x2611=function(){return _0x5199cd;};return a44_0x2611();}